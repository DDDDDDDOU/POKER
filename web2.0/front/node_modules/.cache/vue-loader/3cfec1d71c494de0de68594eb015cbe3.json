{"remainingRequest":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/web2.0/WeIns_F/src/components/otherpersonalcard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Desktop/web2.0/WeIns_F/src/components/otherpersonalcard.vue","mtime":1599188963057},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":1594082385499},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/babel-loader/lib/index.js","mtime":1594082385506},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":1594082385499},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js","mtime":1594082401315}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBwcm9wczogewogICAgICAgIGF2YXRhcjogU3RyaW5nLAogICAgICAgIG5hbWU6IFN0cmluZywKICAgICAgICBmbGFnOiBOdW1iZXIgLy8gMCBtZWFucyBoYXZlIG5vdCBiZWVuIGZvbGxvd2VkLCAxIG1lYW5zIHdoYXQgeW91IGtub3cKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGlkOiAwLAogICAgICAgICAgICBmb2xsb3dfZmxhZzogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLmlkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICAgICAgdGhpcy5mb2xsb3dfZmxhZyA9ICh0aGlzLiRwcm9wcy5mbGFnID09PSAxKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZm9sbG93KGZsYWcpIHsKICAgICAgICAgICAgaWYgKHRoaXMuJHJvb3QubG9nZ2VkID09PSBmYWxzZSkgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5pbmZvKCfor7fnmbvpmYblkI7lho3ov5vooYzmk43kvZzvvIEnKTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbGV0IHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODgvdXNlci9mb2xsb3c/JwogICAgICAgICAgICArICdzdWI9JyArIHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImlkIikKICAgICAgICAgICAgKyAnJm9iaj0nICsgdGhpcy5pZAogICAgICAgICAgICArICcmZmxhZz0nICsgZmxhZzsKCiAgICAgICAgICAgIGF4aW9zLnBvc3QodXJsLCB7fSwgewogICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgIHRva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PnsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSAnc3VjY2VzcycpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZm9sbG93X2ZsYWcpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb2xsb3dfZmxhZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5YWz5rOoICcgKyB0aGlzLm5hbWUgKyAnIOaIkOWKn++8gScpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9sbG93X2ZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCflj5bmtojlhbPms6ggJyArIHRoaXMubmFtZSArICcg5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChlcnIgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBob21lKCkgewogICAgICAgICAgICB0aGlzLiRyb290Lm15X3BlcnNvbl9jZW50ZXJfaW5mbyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLiRyb290Lm15X3BlcnNvbl9jZW50ZXJfYmxvZ3MgPSB0cnVlOwogICAgICAgICAgICB0aGlzLiRyb290Lm15X3BlcnNvbl9jZW50ZXJfZm9sbG93ZXIgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy4kcm9vdC5teV9wZXJzb25fY2VudGVyX2ZvbGxvd2luZyA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgaGFuZGxlU2VsZWN0KGluZGV4KSB7CiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMSkgewogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC5teV9wZXJzb25fY2VudGVyX2luZm8gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QubXlfcGVyc29uX2NlbnRlcl9ibG9ncyA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLiRyb290Lm15X3BlcnNvbl9jZW50ZXJfZm9sbG93ZXIgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QubXlfcGVyc29uX2NlbnRlcl9mb2xsb3dpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRyb290Lm15X3BlcnNvbl9jZW50ZXJfaW5mbyA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLiRyb290Lm15X3BlcnNvbl9jZW50ZXJfYmxvZ3MgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuJHJvb3QubXlfcGVyc29uX2NlbnRlcl9mb2xsb3dlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC5teV9wZXJzb25fY2VudGVyX2ZvbGxvd2luZyA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["otherpersonalcard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"otherpersonalcard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"extern\">\n        <el-card style=\"width: 90%; text-align: center; margin-left: 5%\">\n            <div class=\"back\">\n                <img class=\"pic\" :src=\"avatar\" alt=\"picture\" v-on:click=\"home\"/>\n                <div class=\"text1\">\n                    {{name}}\n                </div>\n                <div class=\"text2\" v-if=\"follow_flag === false\">\n                    <el-button type=\"plain\" size=\"mini\" @click=\"follow(1)\"><I class=\"el-icon-plus\"></I> 关注</el-button>\n                </div>\n                <div class=\"text2\" v-else>\n                    <el-button type=\"plain\" size=\"mini\" @click=\"follow(-1)\"><I class=\"el-icon-check\"></I> 已关注</el-button>\n                </div>\n            </div>\n            <el-menu class=\"el-menu-demo\" mode=\"horizontal\" default-active=\"1\">\n                <el-menu-item class=\"menu\" index=\"1\" @click=\"handleSelect(1)\">ta的主页</el-menu-item>\n                <el-menu-item class=\"menu\" index=\"2\" @click=\"handleSelect(2)\">ta的资料</el-menu-item>\n            </el-menu>\n        </el-card>\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        props: {\n            avatar: String,\n            name: String,\n            flag: Number // 0 means have not been followed, 1 means what you know\n        },\n        data() {\n            return {\n                id: 0,\n                follow_flag: false\n            }\n        },\n        created() {\n            this.id = this.$route.query.id;\n            this.follow_flag = (this.$props.flag === 1);\n        },\n        methods: {\n            follow(flag) {\n                if (this.$root.logged === false) {\n                    this.$message.info('请登陆后再进行操作！');\n                    return;\n                }\n\n                let url = 'http://localhost:8088/user/follow?'\n                + 'sub=' + sessionStorage.getItem(\"id\")\n                + '&obj=' + this.id\n                + '&flag=' + flag;\n\n                axios.post(url, {}, {\n                    headers: {\n                        token: sessionStorage.getItem(\"token\")\n                    }\n                }).then((response) =>{\n                    if (response.data === 'success') {\n                        if (!this.follow_flag) {\n                            this.follow_flag = true;\n                            this.$message.success('关注 ' + this.name + ' 成功！');\n                        }\n\n                        else {\n                            this.follow_flag = false;\n                            this.$message.success('取消关注 ' + this.name + ' 成功！');\n                        }\n                    }\n                }).catch(err => {\n                    console.log(err);\n                });\n            },\n            home() {\n                this.$root.my_person_center_info = false;\n                this.$root.my_person_center_blogs = true;\n                this.$root.my_person_center_follower = false;\n                this.$root.my_person_center_following = false;\n            },\n            handleSelect(index) {\n                if (index === 1) {\n                    this.$root.my_person_center_info = false;\n                    this.$root.my_person_center_blogs = true;\n                    this.$root.my_person_center_follower = false;\n                    this.$root.my_person_center_following = false;\n                }\n\n                else {\n                    this.$root.my_person_center_info = true;\n                    this.$root.my_person_center_blogs = false;\n                    this.$root.my_person_center_follower = false;\n                    this.$root.my_person_center_following = false;\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .extern {\n        width: 100%;\n        flex-direction: column;\n    }\n\n    .back {\n        width: 100%;\n        height: 300px;\n        background: url(\"../assets/image/poster_1.png\");\n    }\n\n    .pic {\n        margin-top: 40px;\n        width: 150px;\n        height:150px;\n        border-radius: 75px;\n        clear: both;\n    }\n\n    .text1 {\n        text-align: center;\n        clear: both;\n        color: white;\n        font-size: xx-large;\n    }\n\n    .text2 {\n        clear: both;\n        text-align: center;\n        color: #c6c6c6;\n    }\n\n    .menu {\n        width: 50%;\n    }\n\n</style>\n"]}]}