{"remainingRequest":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/web2.0/WeIns_F/src/components/topnav.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Desktop/web2.0/WeIns_F/src/components/topnav.vue","mtime":1599210224155},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":1594082385499},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/babel-loader/lib/index.js","mtime":1594082385506},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":1594082385499},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js","mtime":1594082401315}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMb2dpbiBmcm9tICIuL3NpZ25pbkZvcm0iOwppbXBvcnQgYXhpb3MgZnJvbSAgJ2F4aW9zJzsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGNvbXBvbmVudHM6IHsgTG9naW4gfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaGVhdDogW10sCiAgICAgICAgICAgIGl0ZW1zOiBbXSwKICAgICAgICAgICAgc3RhdGU6ICcnLAogICAgICAgICAgICB0aW1lb3V0OiBudWxsLAogICAgICAgICAgICBhY3RpdmVJbmRleDogJzEnLAogICAgICAgICAgICBhY3RpdmVJbmRleDI6ICcxJywKICAgICAgICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UKICAgICAgICB9OwogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgLy8g5YCZ6YCJ6aG577yM5aaC5p6c5pyq6L+b6KGM5pCc57Si5YiZ5YCZ6YCJ6aG55Li654Ot5pCc5qac77yM5pWF6L+Z6YeM5ouJ5Y+W54Ot5pCc5qacCiAgICAgICAgdGhpcy5oZWF0ID0gWwogICAgICAgICAgICB7dmFsdWU6ICLkuInlhajpspzpo5/vvIjljJfmlrDms77lupfvvIkiLCB0eXBlOiAn6K+d6aKYJywgaWQ6IDF9LAogICAgICAgICAgICB7dmFsdWU6ICJIb3QgaG9uZXkg6aaW5bCU54K46bihIiwgdHlwZTogJ+ivnemimCcsIGlkOiAyfSwKICAgICAgICAgICAge3ZhbHVlOiAi5paw5pe66KeS6Iy26aSQ5Y6FIiwgdHlwZTogJ+ivnemimCcsIGlkOiAzfSwKICAgICAgICAgICAge3ZhbHVlOiAi5rO35Y2D5a62KOWkqeWxseilv+i3r+W6lykiLCB0eXBlOiAn6K+d6aKYJywgaWQ6IDR9LAogICAgICAgICAgICB7dmFsdWU6ICLog5bku5nlpbPnurjmna/om4vns5UiLCB0eXBlOiAn6K+d6aKYJywgaWQ6IDV9LAogICAgICAgICAgICB7dmFsdWU6ICLotKHojLYiLCB0eXBlOiAn6K+d6aKYJywgaWQ6IDZ9LAogICAgICAgICAgICB7dmFsdWU6ICLosarlpKflpKfpppnpuKHmjpLotoXnuqflpbbniLgiLCB0eXBlOiAn6K+d6aKYJywgaWQ6IDd9LAogICAgICAgICAgICB7dmFsdWU6ICLojLblhbDvvIjlpbbojLbvvIzmiYvmipPppbzvvIkiLCB0eXBlOiAn6K+d6aKYJywgaWQ6IDh9CiAgICAgICAgICAgIF07CiAgICAgICAgdGhpcy5pdGVtcyA9IFsKICAgICAgICAgICAge3ZhbHVlOiAn55Om5Z2O6L6+Rm9yZXZlciEnLCB0eXBlOiAn6K+d6aKYJywgaWQ6IDF9LAogICAgICAgICAgICB7dmFsdWU6ICdUcnVtcDrmsqHmnInkurrmr5TmiJHmm7Tmh4JXZWIhJywgdHlwZTogJ+ivnemimCcsIGlkOiAyfSwKICAgICAgICAgICAge3ZhbHVlOiAnRG9uYWxkIFRydW1wJywgdHlwZTogJ+eUqOaItycsIGlkOiAxfSwKICAgICAgICAgICAge3ZhbHVlOiAn5a6J5YCN5pmL5LiJJywgdHlwZTogJ+eUqOaItycsIGlkOiAyfQogICAgICAgIF07CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHF1ZXJ5U2VhcmNoKCkgewogICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJycpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuaW5mbygn5pCc57Si5YaF5a655Li656m6IScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLml0ZW1zID0gW107CiAgICAgICAgICAgIHRoaXMucXVlcnlTZWFyY2hVc2VyKCk7CiAgICAgICAgICAgIHRoaXMucXVlcnlTZWFyY2hMYWJlbCgpOwoKICAgICAgICAgICAgY29uc29sZS5sb2coJ2l0ZW1zJyk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuaXRlbXMpOwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIHF1ZXJ5U2VhcmNoVXNlcigpIHsKICAgICAgICAgICAgbGV0IHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODgvdXNlci9nZXRCeUZ1enp5TmFtZT9uYW1lPScgKyB0aGlzLnN0YXRlOwoKICAgICAgICAgICAgLy8gYXhpb3MuZ2V0KHVybCkudGhlbihyZXMgPT4gewogICAgICAgICAgICAvLyAgICAgbGV0IHVzZXJzID0gcmVzLmRhdGE7CiAgICAgICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHVzZXJzLmxlbmd0aDsgKytpKSB7CiAgICAgICAgICAgIC8vICAgICAgICAgbGV0IHVzZXIgPSB7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgIHZhbHVlOiB1c2Vyc1tpXS5uYW1lLAogICAgICAgICAgICAvLyAgICAgICAgICAgICB0eXBlOiAn55So5oi3JywKICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWQ6IHVzZXJzW2ldLmlkCiAgICAgICAgICAgIC8vICAgICAgICAgfTsKICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLml0ZW1zLnB1c2godXNlcik7CiAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgIC8vIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAvLyB9KTsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXhpb3MucG9zdCh1cmwpLnRoZW4ocmVzPT57CiAgICAgICAgICAgICAgICB0aGlzLmlzU3VibWl0PXRydWU7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzID09PSAnc3VjY2Vzcyc7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgcXVlcnlTZWFyY2hMYWJlbCgpIHsKICAgICAgICAgICAgbGV0IHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODgvYmxvZy9maW5kRnV6enlMYWJlbHM/bGFiPScgKyB0aGlzLnN0YXRlOwogICAgICAgICAgICAvLyBheGlvcy5nZXQodXJsKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIC8vICAgICBsZXQgbGFiZWxzID0gcmVzLmRhdGE7CiAgICAgICAgICAgIC8vICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxhYmVscy5sZW5ndGg7ICsraSkgewogICAgICAgICAgICAvLyAgICAgICAgIGxldCBsYWJlbCA9IHsKICAgICAgICAgICAgLy8gICAgICAgICAgICAgdmFsdWU6IGxhYmVsc1tpXS5jb250ZW50LAogICAgICAgICAgICAvLyAgICAgICAgICAgICB0eXBlOiAn6K+d6aKYJywKICAgICAgICAgICAgLy8gICAgICAgICAgICAgaWQ6IGxhYmVsc1tpXS5pZAogICAgICAgICAgICAvLyAgICAgICAgIH07CiAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGxhYmVsKTsKICAgICAgICAgICAgLy8gICAgIH0KICAgICAgICAgICAgLy8gfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgIC8vIH0pOwogICAgICAgICAgICByZXR1cm4gdGhpcy5heGlvcy5wb3N0KHVybCkudGhlbihyZXM9PnsKICAgICAgICAgICAgICAgIHRoaXMuaXNTdWJtaXQ9dHJ1ZTsKICAgICAgICAgICAgICAgIHJldHVybiByZXMgPT09ICdzdWNjZXNzJzsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBxdWVyeVNlYXJjaEFzeW5jKHF1ZXJ5U3RyLCBjYmUpIHsKICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSB0aGlzLmhlYXQ7IC8vIOm7mOiupOS4uueDreaQnOamnAogICAgICAgICAgICBpZiAocXVlcnlTdHIpIHsKICAgICAgICAgICAgICAgIHRoaXMucXVlcnlTZWFyY2goKTsKICAgICAgICAgICAgICAgIHJlc3VsdHMgPSB0aGlzLml0ZW1zOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTsKICAgICAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7IGNiZShyZXN1bHRzKTsgfSwgMTAwMCAqIE1hdGgucmFuZG9tKCkpOwogICAgICAgICAgICByZXR1cm4gcmVzdWx0czsKICAgICAgICB9LAogICAgICAgIGhhbmRsZVNlbGVjdChpdGVtKSB7CiAgICAgICAgICAgIGlmKGl0ZW0ubW9jaz09dHJ1ZSkgewogICAgICAgICAgICAgICAgdGhpcy4kcm9vdC5sb2dnZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgaXRlbS5pZD1OdW1iZXIoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiaWQiKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYoaXRlbS5tb2NrPT1mYWxzZSkgdGhpcy4kcm9vdC5sb2dnZWQgPSBmYWxzZTsKICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ+eUqOaItycpIHsKICAgICAgICAgICAgICAgIGlmICh0aGlzLiRyb290LmxvZ2dlZCA9PT0gdHJ1ZSAmJgogICAgICAgICAgICAgICAgICAgIGl0ZW0uaWQgPT09IE51bWJlcihzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJpZCIpKSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvcGVyc29uJyk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdwZXJzb24nOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL3Zpc2l0JywKICAgICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgICAgICBpZDogaXRlbS5pZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuICd2aXNpdCc7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGVsc2UgeyAvLyBUTyBETzog5pi+56S66K+d6aKYCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtKTsKICAgICAgICAgICAgICAgIGlmICh0aGlzLiRyb290LmxvZ2dlZCA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJy9kaXNjb3ZlcicsCiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaWQ6IGl0ZW0uaWQKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiAnZGlzY292ZXInOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGVsc2UKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmluZm8oJ+ivt+eZu+W9leWQjuWGjeivle+8gScpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9LAogICAgICAgIGxvZyhpKSB7CiAgICAgICAgICAgIHN3aXRjaCAoaSkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgICAgICBjYXNlIDE6CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9zaWdudXAiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgICAgIGNhc2UgMjogLy/ms6jplIAKICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLiRyb290LmxvZ291dCgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaG9tZSIpOwogICAgICAgICAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLlt7Lms6jplIAiKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["topnav.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"topnav.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div style=\"z-index: 100\">\n        <div class=\"container\">\n            <div class=\"logo\">\n                <img class=\"logo img\" src='../assets/image/logo.png' alt=\"logo picture\"/>\n                <span class=\"tit\">WeIns</span>\n            </div>\n\n            <div class=\"searchbar\">\n                <el-autocomplete\n                        popper-class=\"my-autocomplete\"\n                        v-model=\"state\"\n                        :fetch-suggestions=\"querySearchAsync\"\n                        placeholder=\"请输入搜索内容\"\n                        @select=\"handleSelect\"\n                        style=\"width: 40%\"\n                        @keyup.native.enter=\"querySearchAsync\">\n                    <template slot-scope=\"{ item }\">\n                        <div v-if=\"item.type === '用户'\">\n                            <div class=\"name\">{{ item.value }}</div>\n                            <span class=\"underline\">{{ item.type }}</span>\n                        </div>\n                        <div v-else>\n                            <div class=\"topic\">#{{ item.value }}#</div>\n                            <span class=\"underline\">{{ item.type }}</span>\n                        </div>\n                    </template>\n                </el-autocomplete>\n                <el-button type=\"primary\" icon=\"el-icon-search\" @click=\"querySearch\">搜索</el-button>\n            </div>\n\n            <div class=\"nav\">\n                <div class=\"el-dropdown-link\">\n                    <router-link to=\"/home\">\n                        <p class=\"el-dropdown-link can-point\"><i class=\"el-icon-s-home el-icon--left\"></i>首页</p>\n                    </router-link>\n                </div>\n\n                <span class=\"dd\">|</span>\n                    <router-link to=\"/discover?lid=0\" class=\"el-dropdown-link\">\n                        <p class=\"el-dropdown-link can-point\" ><i class=\"el-icon-search el-icon--left\"></i>发现</p>\n                    </router-link>\n                <span class=\"dd\" v-if=\"this.$root.logged === true\">|</span>\n\n                <div class=\"el-dropdown-link\" v-if=\"this.$root.logged === true\">\n                    <el-dropdown  trigger=\"click\">\n                    <span class=\"el-dropdown-link\">\n                        我的<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                    </span>\n                        <el-dropdown-menu slot=\"dropdown\" style=\"width: 100px\">\n                            <router-link to=\"/person\">\n                                <span class=\"el-dropdown-link can-point\" id=\"person\"><el-dropdown-item>个人中心</el-dropdown-item></span>\n                            </router-link>\n                            <router-link to=\"/manager\" v-if=\"this.$root.auth_user_manager === true\">\n                                <span class=\"el-dropdown-link can-point\" ><el-dropdown-item>用户管理</el-dropdown-item></span>\n                            </router-link>\n                            <router-link to=\"/person\">\n                                <span class=\"el-dropdown-link can-point\" id=\"footprint\"><el-dropdown-item>我的足迹</el-dropdown-item></span>\n                            </router-link>\n                        </el-dropdown-menu>\n                    </el-dropdown>\n                </div>\n\n                <span class=\"dd\">|</span>\n                <div class=\"el-dropdown-link\">\n                    <el-dropdown trigger=\"click\">\n                        <p class=\"el-dropdown-link\">\n                            用户服务<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                        </p>\n                        <el-dropdown-menu slot=\"dropdown\" style=\"width: 80px;font-size: 10px\">\n                            <p v-if=\"!this.$root.logged\" style=\"width: 80px\" v-on:click=\"log(0)\"><el-dropdown-item >登陆</el-dropdown-item></p>\n                            <p v-if=\"!this.$root.logged\" style=\"width: 80px\" v-on:click=\"log(1)\"><el-dropdown-item>注册</el-dropdown-item></p>\n                            <p v-if=\"this.$root.logged\" style=\"width: 80px\" v-on:click=\"log(2)\"><el-dropdown-item>注销</el-dropdown-item></p>\n                        </el-dropdown-menu>\n                    </el-dropdown>\n                </div>\n\n            </div>\n        </div>\n\n        <el-dialog :visible.sync=\"dialogVisible\" width=\"40%\" :show-close=\"false\" v-if=\"this.$root.logged === false\">\n            <Login></Login>\n        </el-dialog>\n\n    </div>\n</template>\n\n<script>\n    import Login from \"./signinForm\";\n    import axios from  'axios';\n\n    export default {\n        components: { Login },\n        data() {\n            return {\n                heat: [],\n                items: [],\n                state: '',\n                timeout: null,\n                activeIndex: '1',\n                activeIndex2: '1',\n                dialogVisible: false\n            };\n        },\n        created() {\n            // 候选项，如果未进行搜索则候选项为热搜榜，故这里拉取热搜榜\n            this.heat = [\n                {value: \"三全鲜食（北新泾店）\", type: '话题', id: 1},\n                {value: \"Hot honey 首尔炸鸡\", type: '话题', id: 2},\n                {value: \"新旺角茶餐厅\", type: '话题', id: 3},\n                {value: \"泷千家(天山西路店)\", type: '话题', id: 4},\n                {value: \"胖仙女纸杯蛋糕\", type: '话题', id: 5},\n                {value: \"贡茶\", type: '话题', id: 6},\n                {value: \"豪大大香鸡排超级奶爸\", type: '话题', id: 7},\n                {value: \"茶兰（奶茶，手抓饼）\", type: '话题', id: 8}\n                ];\n            this.items = [\n                {value: '瓦坎达Forever!', type: '话题', id: 1},\n                {value: 'Trump:没有人比我更懂Web!', type: '话题', id: 2},\n                {value: 'Donald Trump', type: '用户', id: 1},\n                {value: '安倍晋三', type: '用户', id: 2}\n            ];\n        },\n        methods: {\n            querySearch() {\n                if (this.state === '') {\n                    this.$message.info('搜索内容为空!');\n                    return false;\n                }\n\n                this.items = [];\n                this.querySearchUser();\n                this.querySearchLabel();\n\n                console.log('items');\n                console.log(this.items);\n                return true;\n            },\n            querySearchUser() {\n                let url = 'http://localhost:8088/user/getByFuzzyName?name=' + this.state;\n\n                // axios.get(url).then(res => {\n                //     let users = res.data;\n                //     for (let i = 0; i < users.length; ++i) {\n                //         let user = {\n                //             value: users[i].name,\n                //             type: '用户',\n                //             id: users[i].id\n                //         };\n                //         this.items.push(user);\n                //     }\n                // }).catch(err => {\n                //     console.log(err);\n                // });\n                return this.axios.post(url).then(res=>{\n                    this.isSubmit=true;\n                    return res === 'success';\n                });\n            },\n            querySearchLabel() {\n                let url = 'http://localhost:8088/blog/findFuzzyLabels?lab=' + this.state;\n                // axios.get(url).then(res => {\n                //     let labels = res.data;\n                //     for (let i = 0; i < labels.length; ++i) {\n                //         let label = {\n                //             value: labels[i].content,\n                //             type: '话题',\n                //             id: labels[i].id\n                //         };\n                //         this.items.push(label);\n                //     }\n                // }).catch(err => {\n                //     console.log(err);\n                // });\n                return this.axios.post(url).then(res=>{\n                    this.isSubmit=true;\n                    return res === 'success';\n                });\n            },\n            querySearchAsync(queryStr, cbe) {\n                let results = this.heat; // 默认为热搜榜\n                if (queryStr) {\n                    this.querySearch();\n                    results = this.items;\n                }\n\n                clearTimeout(this.timeout);\n                this.timeout = setTimeout(() => { cbe(results); }, 1000 * Math.random());\n                return results;\n            },\n            handleSelect(item) {\n                if(item.mock==true) {\n                    this.$root.logged = true;\n                    item.id=Number(sessionStorage.getItem(\"id\"));\n                }\n                if(item.mock==false) this.$root.logged = false;\n                if (item.type === '用户') {\n                    if (this.$root.logged === true &&\n                        item.id === Number(sessionStorage.getItem(\"id\"))) {\n                        this.$router.push('/person');\n                        return 'person';\n                    }\n\n                    this.$router.push({\n                        path: '/visit',\n                        query: {\n                            id: item.id\n                        }\n                    });\n                    return 'visit';\n                }\n\n                else { // TO DO: 显示话题\n                    console.log(item);\n                    if (this.$root.logged === true) {\n                        this.$router.push({\n                            path: '/discover',\n                            query: {\n                                lid: item.id\n                            }\n                        });\n                        return 'discover';\n                    }\n\n                    else\n                        this.$message.info('请登录后再试！');\n                }\n\n                return item;\n            },\n            log(i) {\n                switch (i) {\n                    case 0:\n                        this.dialogVisible = true;\n                        return 0;\n                    case 1:\n                        this.$router.push(\"/signup\");\n                        return 1;\n                    case 2: //注销\n                        // this.$root.logout();\n                        this.$router.push(\"/home\");\n                        sessionStorage.clear();\n                        this.$message.success(\"已注销\");\n                        return 2;\n                    default:\n                        return -1;\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .tit {\n        height: 50px;\n        font-size: 20px;\n        color: coral;\n        line-height: 50px;\n        font-family: \"Al Bayan\", serif;\n        width: 50%;\n    }\n    .container {\n        width: 100%;\n        float: left;\n        background-color: antiquewhite;\n        left: 0;\n        right: 0;\n        position: fixed;\n        z-index: 999;\n    }\n    .logo {\n        width: 10%;\n        height: 10%;\n        float: left;\n        margin-left: 3%;\n        padding: 0;\n        text-align: center;\n    }\n    .logo .img {\n        width: 50px;\n    }\n    body {\n        margin: 0;\n        padding: 0;\n    }\n    .searchbar {\n        width: 35%;\n        float: left;\n        height: 50px;\n        line-height: 50px;\n        text-align: center;\n    }\n    .nav {\n        width: 45%;\n        float: left;\n        text-align: center;\n        height: 50px;\n    }\n    .el-dropdown-link {\n        font-size: 15px;\n        line-height: 50px;\n        height: 50px;\n        width:100px;\n        float: left;\n    }\n    .el-dropdown-link:hover {\n        font-size: 17px;\n    }\n    .can-point {\n        cursor: pointer;\n    }\n    .dd {\n        line-height: 50px;\n        font-size: 15px;\n        font-family: Arial, sans-serif;\n        float: left;\n    }\n</style>\n\n<style scoped>\n    .my-autocomplete li {\n        line-height: normal;\n        padding: 7px;\n    }\n    .name {\n        text-overflow: ellipsis;\n        overflow: hidden;\n        color: #67C667;\n    }\n    .topic {\n        text-overflow: ellipsis;\n        overflow: hidden;\n        color: #EE731B;\n    }\n    .underline {\n        margin-top: -5px;\n        font-size: 12px;\n        color: #b4b4b4;\n    }\n    .highlighted .addr {\n        color: #ddd;\n    }\n</style>\n"]}]}