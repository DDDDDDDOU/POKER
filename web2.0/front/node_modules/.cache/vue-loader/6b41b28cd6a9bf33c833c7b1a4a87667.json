{"remainingRequest":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/web2.0/WeIns_F/src/components/blog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Desktop/web2.0/WeIns_F/src/components/blog.vue","mtime":1594629842071},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":1594082385499},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/babel-loader/lib/index.js","mtime":1594082385506},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":1594082385499},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBpbWFnZSBmcm9tICcuLi9hc3NldHMvaW1hZ2UvcG9zdGVyXzEucG5nJzsKaW1wb3J0IGltYWdlMiBmcm9tICcuLi9hc3NldHMvaW1hZ2UvcG9zdGVyXzIucG5nJzsKaW1wb3J0IFNoYXJlIGZyb20gJy4uL2NvbXBvbmVudHMvc2hhcmUnOwoKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czoge1NoYXJlfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgYmxvZzogewogICAgICAgICAgICAgICAgaWQ6IDAsCiAgICAgICAgICAgICAgICB1c2VyOiB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ+S6pOmAmuWkp+WtpicsCiAgICAgICAgICAgICAgICAgICAgYXZhdGFyOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgYXZhdGFyLCBtdXN0IGJlIGljb25CYXNlNjQgbW9kZQogICAgICAgICAgICAgICAgICAgICAgICBpY29uQmFzZTY0OiAnaHR0cHM6Ly9jdWJlLmVsZW1lY2RuLmNvbS8wLzg4LzAzYjBkMzk1ODNmNDgyMDY3NjhhNzUzNGU1NWJjcG5nLnBuZycKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdGltZTogJzIwMjAtMDctMDkgMjE6NTcnLAogICAgICAgICAgICAgICAgY29udGVudDogewogICAgICAgICAgICAgICAgICAgIHRleHQ6ICflpKflrrblpb0s5oiR5piv5LiK5rW35Lqk6YCa5aSn5a2m6L2v5Lu25a2m6Zmi55qE5pyA5ZK455qE5ZK46bG877yB5LiN5Lya5pyJ5Lq65q+U5oiR6L+Y6I+c5ZCn77yM5LiN5Lya5ZCn5LiN5Lya5ZCn77yB6aG555uu5YGa5b6X5aSq5beu5Yqy5LqG77yB5ZOt5ZOtIScsCiAgICAgICAgICAgICAgICAgICAgaW1hZ2VzOiBbewogICAgICAgICAgICAgICAgICAgICAgICBpbWFnZTogaW1hZ2UKICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZTIKICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZTIKICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZTIKICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZQogICAgICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgbGlrZTogMTQ1MywKICAgICAgICAgICAgICAgIGxpa2VfZmxhZzogZmFsc2UsCiAgICAgICAgICAgICAgICBjb2xsZWN0OiAyNTMsCiAgICAgICAgICAgICAgICBjb2xsZWN0X2ZsYWc6IGZhbHNlLAogICAgICAgICAgICAgICAgc2hhcmU6IDQyNCwKICAgICAgICAgICAgICAgIHNoYXJlX2ZsYWc6IGZhbHNlLAogICAgICAgICAgICAgICAgY29tbWVudDogewogICAgICAgICAgICAgICAgICAgIGNvdW50OiAzMjE0LAogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNvbW1lbnRfZmxhZzogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgICAgICAgIHNob3dwaWM6ICIiLAogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuZ2VuZXJhdGUoKTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgLy8g5ouJ5Y+W5pWw5o2uCiAgICAgICAgZ2VuZXJhdGUoKSB7CgogICAgICAgIH0sCiAgICAgICAgc2hhcmUoKSB7CiAgICAgICAgICAgIHRoaXMuYmxvZy5zaGFyZV9mbGFnID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIGNoYW5nZSgpIHsKICAgICAgICAgICAgdGhpcy5ibG9nLnNoYXJlX2ZsYWcgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIGNvbGxlY3QoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmJsb2cuY29sbGVjdF9mbGFnKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCflj5bmtojmlLbol4/vvIEnKTsKICAgICAgICAgICAgICAgIHRoaXMuYmxvZy5jb2xsZWN0LS07CiAgICAgICAgICAgICAgICB0aGlzLmJsb2cuY29sbGVjdF9mbGFnID0gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aUtuiXj+aIkOWKn++8gScpOwogICAgICAgICAgICAgICAgdGhpcy5ibG9nLmNvbGxlY3RfZmxhZyA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLmJsb2cuY29sbGVjdCsrOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBsaWtlKCkgewogICAgICAgICAgICBpZiAodGhpcy5ibG9nLmxpa2VfZmxhZykgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5Y+W5raI6LWe77yBJyk7CiAgICAgICAgICAgICAgICB0aGlzLmJsb2cubGlrZV9mbGFnID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLmJsb2cubGlrZS0tOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfngrnotZ7miJDlip/vvIEnKTsKICAgICAgICAgICAgICAgIHRoaXMuYmxvZy5saWtlX2ZsYWcgPSB0cnVlOwogICAgICAgICAgICAgICAgLy8g5a6e6ZmF5L2/55So55qE5pe25YCZ5LiN6IO955SoZmxhZ++8jOWQpuWImeS4gOWIt+aWsOWwseS8mumHjeaWsOiDveeCuei1nu+8jOW6lOivpei3n+eUqOaIt+aYr+WQpuWvuei/meadoeWKqOaAgeeCuei1nue7keWumgogICAgICAgICAgICAgICAgdGhpcy5ibG9nLmxpa2UrKzsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbWF4UGljKGltYWdlKSB7CiAgICAgICAgICAgIGFsZXJ0KHRoaXMuZGlhbG9nVmlzaWJsZSkKICAgICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5zaG93cGljID0gaW1hZ2UuaW1hZ2U7CiAgICAgICAgICAgIGFsZXJ0KDEyMykKCiAgICAgICAgfSwKICAgICAgICBjb21tZW50KCkgewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+ivhOiuuuaIkOWKn++8gScpOwogICAgICAgIH0sCgogICAgfSwKICAgIGFjdGl2YXRlZCgpIHsKICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGU9ZmFsc2U7CiAgICB9Cn0K"},{"version":3,"sources":["blog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"blog.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <el-card class=\"extern\" shadow=\"hover\">\n            <div class=\"blog\">\n                <div class=\"avatar\">\n                    <el-avatar :src=\"blog.user.avatar.iconBase64\"></el-avatar>\n                </div>\n                <div class=\"container\">\n                    <div class=\"header\" style=\"z-index: 998;\">\n                        <el-row style=\"height: 20px\">\n                            <el-col :span=\"18\">\n                                <div class=\"name\">\n                                    <el-button type=\"text\" style=\"float: left\">{{blog.user.name}}</el-button>\n                                </div>\n                                <div class=\"timestamp\">{{blog.time}}</div>\n                                <div class=\"timestamp\">当前可见：{{}}</div>\n                            </el-col>\n\n                            <el-col :span=\"3\">\n                                <div >\n                                    <el-dropdown trigger=\"click\" style=\"outline: none\">\n                                    <span\n                                            class=\"el-dropdown-link btn send time-send small-hand\"\n                                            id=\"custom-sebd-btn\"\n                                    >选项<i class=\"el-icon-arrow-down el-icon--right\"></i>\n                                    </span>\n\n                                        <el-dropdown-menu slot=\"dropdown\" style=\"width: 12%\">\n\n                                            <el-dropdown-item class=\"menuitem\">设置权为私密</el-dropdown-item>\n\n                                            <el-dropdown-item class=\"menuitem\">设置为所有人可见</el-dropdown-item>\n\n                                            <el-dropdown-item class=\"menuitem\">设置为好友可见</el-dropdown-item>\n\n                                            <el-dropdown-item class=\"menuitem\" v-if=\"this.$route.params.is_superuser\">删除</el-dropdown-item>\n\n                                        </el-dropdown-menu>\n\n                                    </el-dropdown>\n                                </div>\n\n                            </el-col>\n                        </el-row>\n                    </div>\n\n                    <div class=\"content\" style=\"z-index: 998;\">\n                        <div class=\"text\">\n                            {{blog.content.text}}\n                        </div>\n                        <div class=\"images\" v-if=\"blog.content.image !== null\">\n                            <ul>\n                                <li style=\"\" v-for=\"image in blog.content.images\" :key=\"image.image\">\n                                    <img @click=\"maxPic(image)\" :src=\"image.image\" class=\"img\" style=\"z-index: 998\"/>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"footer\" style=\"text-align: center\">\n                    <el-row>\n                        <el-col :span=\"6\">\n                            <div v-if=\"blog.collect_flag === true\">\n                                <el-button type=\"text\" icon=\"el-icon-folder-remove\" @click=\"collect\">{{blog.collect}}\n                                </el-button>\n                            </div>\n                            <div v-else>\n                                <el-button type=\"text\" icon=\"el-icon-folder-add\" @click=\"collect\">{{blog.collect}}\n                                </el-button>\n                            </div>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-button type=\"text\" icon=\"el-icon-top-right\" @click=\"share\">{{blog.share}}</el-button>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <el-button type=\"text\" icon=\"el-icon-chat-dot-square\" @click=\"comment\">\n                                {{blog.comment.count}}\n                            </el-button>\n                        </el-col>\n                        <el-col :span=\"6\">\n                            <div v-if=\"blog.like_flag === true\">\n                                <el-button type=\"text\" icon=\"el-icon-star-on\" @click=\"like\">{{blog.like}}</el-button>\n                            </div>\n                            <div v-else>\n                                <el-button type=\"text\" icon=\"el-icon-star-off\" @click=\"like\">{{blog.like}}</el-button>\n                            </div>\n                        </el-col>\n                    </el-row>\n\n                    <el-dialog :append-to-body=\"true\" :visible.sync=\"blog.share_flag\" width=\"40%\" :show-close=\"false\" title=\"转发动态到\">\n                        <Share :id=\"blog.id\" :user=\"blog.user.name\" :content=\"blog.content.text\"\n                               @change=\"change\"></Share>\n                    </el-dialog>\n                    <el-dialog :visible.sync=\"dialogVisible\" width=\"40%\" :show-close=\"false\" :append-to-body=\"true\" style=\"z-index: 999\">\n                        <el-image :src=\"this.showpic\" class=\"big-img\"></el-image>\n                    </el-dialog>\n                </div>\n            </div>\n        </el-card>\n\n    </div>\n\n</template>\n\n<script>\n    import image from '../assets/image/poster_1.png';\n    import image2 from '../assets/image/poster_2.png';\n    import Share from '../components/share';\n\n    export default {\n        components: {Share},\n        data() {\n            return {\n                blog: {\n                    id: 0,\n                    user: {\n                        name: '交通大学',\n                        avatar: {\n                            // default avatar, must be iconBase64 mode\n                            iconBase64: 'https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png'\n                        }\n                    },\n                    time: '2020-07-09 21:57',\n                    content: {\n                        text: '大家好,我是上海交通大学软件学院的最咸的咸鱼！不会有人比我还菜吧，不会吧不会吧！项目做得太差劲了！哭哭!',\n                        images: [{\n                            image: image\n                        }, {\n                            image: image2\n                        }, {\n                            image: image2\n                        }, {\n                            image: image2\n                        }, {\n                            image: image\n                        }]\n                    },\n                    like: 1453,\n                    like_flag: false,\n                    collect: 253,\n                    collect_flag: false,\n                    share: 424,\n                    share_flag: false,\n                    comment: {\n                        count: 3214,\n                    },\n                    comment_flag: false\n                },\n                dialogVisible: false,\n                showpic: \"\",\n            }\n        },\n        created() {\n            this.generate();\n        },\n        methods: {\n            // 拉取数据\n            generate() {\n\n            },\n            share() {\n                this.blog.share_flag = true;\n            },\n            change() {\n                this.blog.share_flag = false;\n            },\n            collect() {\n                if (this.blog.collect_flag) {\n                    this.$message.error('取消收藏！');\n                    this.blog.collect--;\n                    this.blog.collect_flag = false;\n                } else {\n                    this.$message.success('收藏成功！');\n                    this.blog.collect_flag = true;\n                    this.blog.collect++;\n                }\n            },\n            like() {\n                if (this.blog.like_flag) {\n                    this.$message.error('取消赞！');\n                    this.blog.like_flag = false;\n                    this.blog.like--;\n                } else {\n                    this.$message.success('点赞成功！');\n                    this.blog.like_flag = true;\n                    // 实际使用的时候不能用flag，否则一刷新就会重新能点赞，应该跟用户是否对这条动态点赞绑定\n                    this.blog.like++;\n                }\n            },\n            maxPic(image) {\n                alert(this.dialogVisible)\n                this.dialogVisible = true;\n                this.showpic = image.image;\n                alert(123)\n\n            },\n            comment() {\n                this.$message.success('评论成功！');\n            },\n\n        },\n        activated() {\n            this.dialogVisible=false;\n        }\n    }\n</script>\n\n<style scoped>\n    .extern {\n        width: 100%;\n        display: flex;\n    }\n\n    .blog {\n\n    }\n\n    .avatar {\n        float: left;\n        width: 7%;\n    }\n\n    .container {\n        margin-left: 2%;\n        float: left;\n        width: 85%;\n        display: flex;\n        flex-direction: column;\n    }\n\n    .header {\n        width: 100%;\n    }\n\n    .name {\n        float: left;\n        width: 100%;\n        text-align: left;\n    }\n\n    .timestamp {\n        /*float: left;*/\n        text-align: left;\n        color: darkgray;\n        font-size: 10px;\n    }\n\n    .content {\n        width: 100%;\n        margin-top: 5%;\n        background: rgba(255, 255, 255, 0.4);\n    }\n\n    .menuitem{\n    }\n    .text {\n        text-align: left;\n    }\n\n    .img {\n        width: 30%;\n        float: left;\n        margin-left: 1%;\n        margin-top: 1%;\n        cursor: pointer;\n    }\n\n    .big-img {\n        width: 100%;\n    }\n\n    .footer {\n        border-top: 2px #909399;\n        margin-top: 20px;\n    }\n</style>\n"]}]}