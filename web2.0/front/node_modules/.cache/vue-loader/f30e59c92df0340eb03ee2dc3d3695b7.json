{"remainingRequest":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/web2.0/WeIns_F/src/components/signinForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/user/Desktop/web2.0/WeIns_F/src/components/signinForm.vue","mtime":1594889849034},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY2hlY2tlZDogZmFsc2UsCiAgICAgICAgICAgIGlzU3VibWl0OiBmYWxzZSwKICAgICAgICAgICAgZXJybWVzc2FnZToiIiwKICAgICAgICAgICAgZm9ybTogewogICAgICAgICAgICAgICAgcGhvbmU6ICcnLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICcnLAogICAgICAgICAgICB9LAogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgcGhvbmU6IFsKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn55S16K+d5Y+356CB5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICAgICAgICAgICAgfSx7CiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMTEsIG1heDogMTEsIG1lc3NhZ2U6ICfnlLXor53lj7fnoIHkuLoxMeS9jeaVsOWtlycKICAgICAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBbCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+WvhueggeS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJwogICAgICAgICAgICAgICAgICAgIH0sewogICAgICAgICAgICAgICAgICAgICAgICBtaW46IDYsIG1heDogMTYsIG1lc3NhZ2U6ICflr4bnoIHplb/luqblnKggNiDliLAgMTYg5Liq5a2X56ymJywgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgIH0sCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBvblN1Ym1pdCgpIHsKICAgICAgICAgICAgaWYgKCF0aGlzLmlzU3VibWl0KSB7CiAgICAgICAgICAgICAgICB0aGlzLmlzU3VibWl0ID0gdHJ1ZTsgLy8g6Ziy5q2i5oG25oSP5aSa5qyh54K55Ye7CgogICAgICAgICAgICAgICAgbGV0IHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjgwODgvdXNlci9sb2dpbicgKwogICAgICAgICAgICAgICAgICAgICc/cGg9JyArIHRoaXMuZm9ybS5waG9uZSArCiAgICAgICAgICAgICAgICAgICAgJyZwd2Q9JyArIHRoaXMuZm9ybS5wYXNzd29yZDsKCiAgICAgICAgICAgICAgICAvLyBheGlvcy5wb3N0KHVybCkudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgIC8vICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICAgICAgICAgIC8vICAgICBsZXQgdXNlciA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2codXNlcik7CiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKHVzZXIuaWQgPj0gMCkgewogICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLiRyb290LmxvZ2dlZD10cnVlOwogICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLiRyb290LmlzX3N1cGVydXNlcj0odXNlci50eXBlPT0wID8gZmFsc2UgOiB0cnVlKTsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgicGhvbmUiLHVzZXIucGhvbmUpOwogICAgICAgICAgICAgICAgLy8gICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJuYW1lIix1c2VyLm5hbWUpOwogICAgICAgICAgICAgICAgLy8gICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJpZCIsdXNlci5pZCk7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8vIOeZu+W9leWQjui/memHjOi/mOimgeWtmOWQhOenjXNlc3Npb27nmoTmlbDmja4KICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5lcnJtZXNzYWdlPSfnlKjmiLcgJyArIHVzZXIubmFtZSArICcg55m75b2V5oiQ5Yqf77yBJzsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKHRoaXMuZXJybWVzc2FnZSk7CiAgICAgICAgICAgICAgICAvLyAgICAgICAgIC8vIFRPIERPCiAgICAgICAgICAgICAgICAvLyAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgIC8vICAgICB9CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gICAgIGVsc2UgewogICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAodXNlci5pZCA9PT0gLTEpIHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuZXJybWVzc2FnZT0n5q2k6LSm5oi35LiN5a2Y5Zyo77yBJzsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+atpOi0puaIt+S4jeWtmOWcqO+8gScpOwogICAgICAgICAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAodXNlci5pZCA9PT0gLTIpIHsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuZXJybWVzc2FnZT0n5a+G56CB6ZSZ6K+v77yM6K+36YeN5paw6L6T5YWl77yBJzsKICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WvhueggemUmeivr++8jOivt+mHjeaWsOi+k+WFpe+8gScpOwogICAgICAgICAgICAgICAgLy8gICAgICAgICB9CiAgICAgICAgICAgICAgICAvLwogICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLmlzU3VibWl0ID0gZmFsc2U7CiAgICAgICAgICAgICAgICAvLyAgICAgfQogICAgICAgICAgICAgICAgLy8gfSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF4aW9zLnBvc3QodXJsKS50aGVuKHJlcz0+ewogICAgICAgICAgICAgICAgICAgIGlmKHJlcz09J3N1Y2Nlc3MnKSByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9LAogICAgICAgIHNpZ251cCgpIHsKICAgICAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goJy9zaWdudXAnKTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfSwKICAgIH0KfQo="},{"version":3,"sources":["signinForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"signinForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"extern\">\n        <div class=\"login\">\n            <div class=\"tag\">\n                账号登录\n            </div>\n            <div class=\"form\">\n                <el-form ref=\"form\" :model=\"form\" @keyup.native.enter=\"onSubmit\" label-width=\"11%\">\n                    <el-form-item props=\"phone\">\n                        <el-input id=\"signinForm_input_phone\"  type=\"text\" v-model=\"form.phone\"  auto-complete=\"off\" placeholder=\"请输入手机号码\"/>\n                    </el-form-item>\n                    <el-form-item prop=\"password\">\n                        <el-input\n                                id=\"signinForm_input_password\"\n                                type=\"text\" v-model=\"form.password\" auto-complete=\"off\"\n                                  placeholder=\"请输入账户密码\" show-password/>\n                    </el-form-item>\n                </el-form>\n            </div>\n\n            <div class=\"pwd-mem\">\n                <div class=\"remember\">\n                    <el-checkbox v-model=\"checked\">记住密码</el-checkbox>\n                </div>\n\n                <div class=\"forget\">\n                    <el-link href=\"\">忘记密码</el-link>\n                </div>\n            </div>\n\n            <div class=\"btn\">\n                <el-button id=\"signinForm_button_login\" type=\"success\" @click=\"onSubmit\" size=\"medium\" style=\"width: 80%\">登录</el-button>\n            </div>\n\n            <div class=\"signup\">\n                <span>还没有WeIns账号？</span>\n                <router-link to=\"/signup\"><el-button id=\"signinForm_button_signup\" type=\"text\" @click=\"signup\">立即注册>></el-button></router-link>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\n    // import axios from 'axios';\n    export default {\n        data() {\n            return {\n                checked: false,\n                isSubmit: false,\n                errmessage:\"\",\n                form: {\n                    phone: '',\n                    password: '',\n                },\n                rules: {\n                    phone: [\n                        {\n                            required: true, message: '电话号码不能为空', trigger: 'blur'\n                        },{\n                            min: 11, max: 11, message: '电话号码为11位数字'\n                        }],\n                    password: [\n                        {\n                            required: true, message: '密码不能为空', trigger: 'blur'\n                        },{\n                            min: 6, max: 16, message: '密码长度在 6 到 16 个字符', trigger: 'blur'\n                        }],\n                },\n            }\n        },\n        methods: {\n            onSubmit() {\n                if (!this.isSubmit) {\n                    this.isSubmit = true; // 防止恶意多次点击\n\n                    let url = 'http://localhost:8088/user/login' +\n                        '?ph=' + this.form.phone +\n                        '&pwd=' + this.form.password;\n\n                    // axios.post(url).then((response) => {\n                    //    console.log(response);\n                    //     let user = response.data;\n                    //     console.log(user);\n                    //     if (user.id >= 0) {\n                    //         this.$root.logged=true;\n                    //         this.$root.is_superuser=(user.type==0 ? false : true);\n                    //         sessionStorage.setItem(\"phone\",user.phone);\n                    //         sessionStorage.setItem(\"name\",user.name);\n                    //         sessionStorage.setItem(\"id\",user.id);\n                    //         // 登录后这里还要存各种session的数据\n                    //         this.errmessage='用户 ' + user.name + ' 登录成功！';\n                    //         this.$message.success(this.errmessage);\n                    //         // TO DO\n                    //         return true;\n                    //\n                    //     }\n                    //\n                    //     else {\n                    //         if (user.id === -1) {\n                    //             this.errmessage='此账户不存在！';\n                    //             this.$message.error('此账户不存在！');\n                    //         }\n                    //\n                    //         if (user.id === -2) {\n                    //             this.errmessage='密码错误，请重新输入！';\n                    //             this.$message.error('密码错误，请重新输入！');\n                    //         }\n                    //\n                    //         this.isSubmit = false;\n                    //     }\n                    // })\n                    return this.axios.post(url).then(res=>{\n                        if(res=='success') return true;\n                        else return false;\n                    });\n                }\n                return false;\n            },\n            signup() {\n                // this.$router.push('/signup');\n                return true;\n            },\n        }\n    }\n</script>\n\n<style scoped>\n    .extern {\n        width: 100%;\n    }\n\n    .login {\n        width: 100%;\n        margin-top: 5%;\n        background-color: white;\n        border-radius: 2px;\n        text-align: center;\n    }\n\n    .tag {\n        font-size: 20px;\n        font-weight: 600;\n        padding-top: 20px;\n        background-color: white;\n    }\n\n    .form {\n        width: 90%;\n        margin-top: 5%;\n    }\n\n    .remember {\n        margin-left: 10%;\n        float: left;\n    }\n\n    .forget {\n        margin-right: 10%;\n        float: right;\n    }\n\n    .btn {\n        padding-top: 20px;\n    }\n\n    .signup {\n        color: #8B8B8B;\n        font-size: 12px;\n    }\n</style>\n"]}]}