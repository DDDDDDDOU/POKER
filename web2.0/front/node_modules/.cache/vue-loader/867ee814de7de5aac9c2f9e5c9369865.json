{"remainingRequest":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/web2.0/WeIns_F/src/components/userTable.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/user/Desktop/web2.0/WeIns_F/src/components/userTable.vue","mtime":1595563271862},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/css-loader/dist/cjs.js","mtime":1594082400206},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1594082401315},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/postcss-loader/src/index.js","mtime":1594082403147},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":1594082385499},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js","mtime":1594082401315}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICAgIC5lbC10YWJsZSAuZ3JlZW5ncmVlbi1yb3cgewogICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwyNTUsMCwwLjUpOwogICAgfQouZWwtdGFibGUgLnJlZC1yb3d7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwwLDAsMC4xKTsKfQouZWwtdGFibGUgLmdyZWVuLXJvdyB7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsMjU1LDAsMC4xKTsKfQoKLmVsLXRhYmxlIC53aXRlLXJvdyB7CiAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7Cn0KCg=="},{"version":3,"sources":["userTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"userTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <el-table\n            id=\"el-table\"\n            :data=\"arr\"\n            :key=\"random\"\n            :row-class-name=\"rowClassNameFilter\"\n            width=\"100%\"\n            >\n        <el-table-column\n                fixed\n                prop=\"id\"\n                label=\"用户编号\"\n                width=\"50\">\n        </el-table-column>\n        <el-table-column\n                prop=\"name\"\n                label=\"姓名\"\n                width=\"100\">\n        </el-table-column>\n        <el-table-column\n                prop=\"Type\"\n                label=\"权限\"\n                width=\"80\">\n        </el-table-column>\n        <el-table-column\n                prop=\"birthday\"\n                label=\"生日\"\n                width=\"100\">\n        </el-table-column>\n        <el-table-column\n                prop=\"sex\"\n                label=\"性别\"\n                column-key=\"sex\"\n                width=\"50\">\n        </el-table-column>\n        <el-table-column\n                prop=\"reg_time\"\n                label=\"注册时间\"\n                width=\"120\">\n        </el-table-column>\n        <el-table-column\n                prop=\"email\"\n                label=\"电子邮箱\"\n                width=\"50\">\n        </el-table-column>\n        <el-table-column\n                prop=\"phone\"\n                label=\"电话号码\"\n                width=\"120\">\n        </el-table-column>\n        <el-table-column\n                label=\"操作\"\n               width=\"150\">\n            <template slot-scope=\"scope\" style=\"text-align: center;\">\n                <el-button @click=\"handleClick(scope.row,scope.row.type-8)\" type=\"danger\" size=\"small\">封禁</el-button>\n                <el-button @click=\"handleClick(scope.row,scope.row.type+8)\" type=\"success\" size=\"small\">解封</el-button>\n            </template>\n        </el-table-column>\n    </el-table>\n</template>\n\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        name: \"userTable\",\n        props :['user'],\n        methods: {\n            handleClick(row,tar) {\n                console.log(row);\n                const url='http://localhost:8088/user/auth?sub='+sessionStorage.getItem('id')\n                            +'&obj='+row.id+'&tar='+tar;\n\n                axios.post(url).then((response) => {\n                    if(response.data=='success'){\n                        for(let i=0;i<this.arr.length;++i){\n                            if(this.arr[i].id==row.id){\n                                this.arr[i].type=tar;\n                                this.arr[i].Type=tar<0 ? '被封禁' : (tar==0 ?'普通用户' : '管理员：'+tar);\n                                this.random=Math.random();\n                                this.$message.success(response.data)\n                                return;\n                            }\n                        }\n\n                    }\n                    else this.$message.warning(response.data);\n\n                })\n            },\n            rowClassNameFilter({row,rowIndex}){\n                console.log(rowIndex);\n                if(row.Type==='老板'){\n                    return 'greengreen-row'\n                }else\n                if(row.Type.indexOf('管理员')!=-1){\n                    return 'green-row'\n                }else if(row.Type==='普通用户'){\n                    return 'wite-row'\n                }else{\n                    return 'red-row'\n                }\n            }\n        },\n        data(){\n            return{\n                arr:[],\n                random:0\n            }\n        },\n        watch:{\n            user(){\n                this.arr = this.user;\n            }\n        },\n        mounted(){\n            this.arr = this.user;\n            console.log(\"receive!\");\n            console.log(this.user);\n        }\n    }\n</script>\n\n<style >\n\n    .el-table .greengreen-row {\n        background: rgba(0,255,0,0.5);\n    }\n.el-table .red-row{\n    background: rgba(255,0,0,0.1);\n}\n.el-table .green-row {\n    background: rgba(0,255,0,0.1);\n}\n\n.el-table .wite-row {\n    background: rgba(255,255,255,0.1);\n}\n\n</style>\n"]}]}