{"remainingRequest":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/web2.0/WeIns_F/src/components/otherpersonalcard.vue?vue&type=style&index=0&id=76b30f00&scoped=true&lang=css&","dependencies":[{"path":"/Users/user/Desktop/web2.0/WeIns_F/src/components/otherpersonalcard.vue","mtime":1599188963057},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/css-loader/dist/cjs.js","mtime":1594082400206},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1594082401315},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/postcss-loader/src/index.js","mtime":1594082403147},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":1594082385499},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js","mtime":1594082401315}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5leHRlcm4gewogICAgd2lkdGg6IDEwMCU7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwp9CgouYmFjayB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMzAwcHg7CiAgICBiYWNrZ3JvdW5kOiB1cmwoIi4uL2Fzc2V0cy9pbWFnZS9wb3N0ZXJfMS5wbmciKTsKfQoKLnBpYyB7CiAgICBtYXJnaW4tdG9wOiA0MHB4OwogICAgd2lkdGg6IDE1MHB4OwogICAgaGVpZ2h0OjE1MHB4OwogICAgYm9yZGVyLXJhZGl1czogNzVweDsKICAgIGNsZWFyOiBib3RoOwp9CgoudGV4dDEgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgY2xlYXI6IGJvdGg7CiAgICBjb2xvcjogd2hpdGU7CiAgICBmb250LXNpemU6IHh4LWxhcmdlOwp9CgoudGV4dDIgewogICAgY2xlYXI6IGJvdGg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBjb2xvcjogI2M2YzZjNjsKfQoKLm1lbnUgewogICAgd2lkdGg6IDUwJTsKfQoK"},{"version":3,"sources":["otherpersonalcard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"otherpersonalcard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"extern\">\n        <el-card style=\"width: 90%; text-align: center; margin-left: 5%\">\n            <div class=\"back\">\n                <img class=\"pic\" :src=\"avatar\" alt=\"picture\" v-on:click=\"home\"/>\n                <div class=\"text1\">\n                    {{name}}\n                </div>\n                <div class=\"text2\" v-if=\"follow_flag === false\">\n                    <el-button type=\"plain\" size=\"mini\" @click=\"follow(1)\"><I class=\"el-icon-plus\"></I> 关注</el-button>\n                </div>\n                <div class=\"text2\" v-else>\n                    <el-button type=\"plain\" size=\"mini\" @click=\"follow(-1)\"><I class=\"el-icon-check\"></I> 已关注</el-button>\n                </div>\n            </div>\n            <el-menu class=\"el-menu-demo\" mode=\"horizontal\" default-active=\"1\">\n                <el-menu-item class=\"menu\" index=\"1\" @click=\"handleSelect(1)\">ta的主页</el-menu-item>\n                <el-menu-item class=\"menu\" index=\"2\" @click=\"handleSelect(2)\">ta的资料</el-menu-item>\n            </el-menu>\n        </el-card>\n    </div>\n</template>\n\n<script>\n    import axios from \"axios\";\n\n    export default {\n        props: {\n            avatar: String,\n            name: String,\n            flag: Number // 0 means have not been followed, 1 means what you know\n        },\n        data() {\n            return {\n                id: 0,\n                follow_flag: false\n            }\n        },\n        created() {\n            this.id = this.$route.query.id;\n            this.follow_flag = (this.$props.flag === 1);\n        },\n        methods: {\n            follow(flag) {\n                if (this.$root.logged === false) {\n                    this.$message.info('请登陆后再进行操作！');\n                    return;\n                }\n\n                let url = 'http://localhost:8088/user/follow?'\n                + 'sub=' + sessionStorage.getItem(\"id\")\n                + '&obj=' + this.id\n                + '&flag=' + flag;\n\n                axios.post(url, {}, {\n                    headers: {\n                        token: sessionStorage.getItem(\"token\")\n                    }\n                }).then((response) =>{\n                    if (response.data === 'success') {\n                        if (!this.follow_flag) {\n                            this.follow_flag = true;\n                            this.$message.success('关注 ' + this.name + ' 成功！');\n                        }\n\n                        else {\n                            this.follow_flag = false;\n                            this.$message.success('取消关注 ' + this.name + ' 成功！');\n                        }\n                    }\n                }).catch(err => {\n                    console.log(err);\n                });\n            },\n            home() {\n                this.$root.my_person_center_info = false;\n                this.$root.my_person_center_blogs = true;\n                this.$root.my_person_center_follower = false;\n                this.$root.my_person_center_following = false;\n            },\n            handleSelect(index) {\n                if (index === 1) {\n                    this.$root.my_person_center_info = false;\n                    this.$root.my_person_center_blogs = true;\n                    this.$root.my_person_center_follower = false;\n                    this.$root.my_person_center_following = false;\n                }\n\n                else {\n                    this.$root.my_person_center_info = true;\n                    this.$root.my_person_center_blogs = false;\n                    this.$root.my_person_center_follower = false;\n                    this.$root.my_person_center_following = false;\n                }\n            }\n        }\n    }\n</script>\n\n<style scoped>\n    .extern {\n        width: 100%;\n        flex-direction: column;\n    }\n\n    .back {\n        width: 100%;\n        height: 300px;\n        background: url(\"../assets/image/poster_1.png\");\n    }\n\n    .pic {\n        margin-top: 40px;\n        width: 150px;\n        height:150px;\n        border-radius: 75px;\n        clear: both;\n    }\n\n    .text1 {\n        text-align: center;\n        clear: both;\n        color: white;\n        font-size: xx-large;\n    }\n\n    .text2 {\n        clear: both;\n        text-align: center;\n        color: #c6c6c6;\n    }\n\n    .menu {\n        width: 50%;\n    }\n\n</style>\n"]}]}