{"remainingRequest":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/user/Desktop/web2.0/WeIns_F/src/views/manager.vue?vue&type=style&index=0&id=50f80752&scoped=true&lang=css&","dependencies":[{"path":"/Users/user/Desktop/web2.0/WeIns_F/src/views/manager.vue","mtime":1595485502238},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/css-loader/dist/cjs.js","mtime":1594082400206},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1594082401315},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/postcss-loader/src/index.js","mtime":1594082403147},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/cache-loader/dist/cjs.js","mtime":1594082385499},{"path":"/Users/user/Desktop/web2.0/WeIns_F/node_modules/vue-loader/lib/index.js","mtime":1594082401315}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5leHRlcm57CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjQTdDRkU4Owp9Cgo="},{"version":3,"sources":["manager.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4TA;AACA;AACA","file":"manager.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"extern\">\n        <el-header>\n            <Header></Header>\n        </el-header>\n        <div class=\"content\" style=\"clear: both;display: flex;margin-left: 10%;width: 100%\">\n            <div style=\"float: left;width: 810px\">\n                <user-table :user=\"users\"></user-table>\n            </div>\n            <div class=\"search\" style=\"float: left;width: 40%;margin-left: 100px;\">\n                <el-input\n                        placeholder=\"按照条件搜索……\"\n                        v-model=\"input\"\n                        style=\"width: 55%;float: left;margin-bottom: 5%\">\n                </el-input>\n                <p style=\"clear:both;color: darkgray;margin-bottom: 5%\">选择条件：</p>\n                <el-radio-group v-model=\"radio\"  style=\"float: left;margin-bottom: 5%\">\n                    <el-radio-button label=\"编号\"></el-radio-button>\n                    <el-radio-button label=\"姓名\"></el-radio-button>\n                    <el-radio-button label=\"电话号码\"></el-radio-button>\n                    <el-radio-button label=\"电子邮箱\"></el-radio-button>\n                </el-radio-group>\n                <p style=\"clear:both;color: darkgray;margin-bottom: 5%\">详细信息：</p>\n                <el-card shadow=\"hover\" style=\"width: 55%\">\n                    <p>管理员 : <span style=\"color: red\">{{this.managerid}}</span> </p>\n                    <el-divider></el-divider>\n                    <p>搜索结果共计  <span style=\"color:red\">{{this.nums}}</span>  条记录</p>\n                    <el-divider></el-divider>\n                    <p>已对  <span style=\"color:red\">{{this.operations}}</span>  个用户进行操作</p>\n                </el-card>\n            </div>\n        </div>\n\n        <el-footer>\n            <Footer style=\"margin-top: 2%\"></Footer>\n        </el-footer>\n    </div>\n</template>\n\n<script>\n    import Header from \"../components/topnav\";\n    import Footer from \"../components/footer\";\n    import userTable from \"../components/userTable\";\n    import axios from \"axios\";\n\n    export default {\n        name: \"manager\",\n        components: { Header, Footer, userTable},\n        data(){\n            return{\n                managerid:1,\n                input:'',\n                radio:'姓名',\n                nums:0,//记录符合条件的总数\n                operations:0,//记录已经操作过的用户数量\n                users:[{\n                    id: 0,\n                    name: '交通大学',\n                    birthday: '1896-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-01',\n                    email: 'se128@sjtu.edu.cn',\n                    phone: '021-34200000'\n                },  {\n                    id: 1,\n                    name: '复旦大学',\n                    birthday: '1844-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-04',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '021-34200000'\n                },{\n                    id: 2,\n                    name: '清华大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '021-34200000'\n                },{\n                    id: 3,\n                    name: '北京大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '021-34200000'\n                },{\n                    id: 4,\n                    name: 'aa大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '021-34200000'\n                },{\n                    id: 5,\n                    name: 'bb大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '021-34200000'\n                },{\n                    id: 6,\n                    name: 'cc大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '033-34200000'\n                },{\n                    id: 7,\n                    name: 'cc大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '033-34200000'\n                },{\n                    id: 9,\n                    name: 'cc大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '033-34200000'\n                },{\n                    id: 8,\n                    name: 'cc大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '033-34200000'\n                },{\n                    id: 11,\n                    name: 'cc大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '033-34200000'\n                }],\n                originusers:[{\n                    id: 0,\n                    name: '交通大学',\n                    birthday: '1896-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-01',\n                    email: 'se128@sjtu.edu.cn',\n                    phone: '021-34200000'\n                },  {\n                    id: 1,\n                    name: '复旦大学',\n                    birthday: '1844-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-04',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '021-34200000'\n                },{\n                    id: 2,\n                    name: '清华大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '021-34200000'\n                },{\n                    id: 3,\n                    name: '北京大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '021-34200000'\n                },{\n                    id: 4,\n                    name: 'aa大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '021-34200000'\n                },{\n                    id: 5,\n                    name: 'bb大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '021-34200000'\n                },{\n                    id: 6,\n                    name: 'cc大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '033-34200000'\n                },{\n                    id: 7,\n                    name: 'cc大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '033-34200000'\n                },{\n                    id: 9,\n                    name: 'cc大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '033-34200000'\n                },{\n                    id: 8,\n                    name: 'cc大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '033-34200000'\n                },{\n                    id: 11,\n                    name: 'cc大学',\n                    birthday: '1823-04-07',\n                    sex: 1,\n                    reg_time: '2020-07-05',\n                    email: 'se128@xxu.edu.cn',\n                    phone: '033-34200000'\n                }],\n            }\n        },\n        watch:{\n            input(){\n                this.search();\n            }\n        },\n        methods:{\n            search(){\n                console.log(\"search for\");\n                console.log(this.input);\n            }\n        },\n        mounted(){\n            let url = 'http://localhost:8088/user/login' +\n                '?ph=' + this.form.phone +\n                '&pwd=' + this.form.password;\n\n            axios.post(url).then((response) => {\n                console.log(response);\n                let user = response.data;\n                console.log(user);\n                if (user.id >= 0) {\n\n                    if (user.type < 0) {\n                        this.$message.error(\"该账户已被封禁！\");\n                        this.isSubmit = false;\n                    }\n\n                    else {\n                        this.$root.logged = true;\n                        this.$root.is_superuser=(user.type !== 0);\n\n                        // 登录后这里存各种session的数据\n                        sessionStorage.setItem(\"phone\", user.phone);\n                        sessionStorage.setItem(\"name\", user.name);\n                        sessionStorage.setItem(\"id\", user.id);\n                        sessionStorage.setItem(\"userMongo\", JSON.stringify(user.userMongo))\n                        sessionStorage.setItem(\"type\", user.type);\n                        sessionStorage.setItem(\"sex\", user.sex);\n                        sessionStorage.setItem(\"birthday\", user.birthday);\n                        sessionStorage.setItem(\"reg_time\", user.reg_time);\n\n                        // 记住密码\n                        if (this.checked) {\n                            sessionStorage.setItem(\"pwd\", this.form.password);\n                        }\n\n                        if (user.type === 0) {\n                            this.errmessage = '用户 ' + user.name + ' 登录成功！';\n                        }\n\n                        else if (user.type === 8) {\n                            this.errmessage = '老板好！';\n                        }\n\n                        else {\n                            this.errmessage = '管理员用户' + user.name + '登录成功';\n                        }\n\n                        this.$message.success(this.errmessage);\n                    }\n                }\n\n                else {\n                    if (user.id === -1) {\n                        this.errmessage='此账户不存在！';\n                        this.$message.error('此账户不存在！');\n                    }\n\n                    if (user.id === -2) {\n                        this.errmessage='密码错误，请重新输入！';\n                        this.$message.error('密码错误，请重新输入！');\n                    }\n\n                    this.isSubmit = false;\n                }\n            })\n        }\n    }\n</script>\n\n<style scoped>\n    .extern{\n        background-color: #A7CFE8;\n    }\n\n</style>"]}]}